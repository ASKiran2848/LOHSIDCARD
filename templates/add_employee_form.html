{% extends "base.html" %}
{% block title %}Add Employee{% endblock %}

{% block content %}
<h2>Add New Employee</h2>

{% if message %}
<div class="msg success">{{ message }}</div>
{% endif %}

<form method="POST">
    <label>Employee ID</label>
    <input type="text" name="employee_id" required>

    <label>Name</label>
    <input type="text" name="name" required>

    <label>Date of Birth</label>
    <input type="date" name="dob" required>

    <label>Gender</label>
    <select name="gender" required>
        <option>Male</option><option>Female</option><option>Other</option>
    </select>

    <h3>Emergency Details</h3>
    <label>Blood Group</label>
    <input type="text" name="blood_group" required>

    <label>Contact Person Name</label>
    <input type="text" name="contact_person_name" required>

    <label>Relation</label>
    <input type="text" name="relation" required>

    <label>Contact Person Phone</label>
    <input type="text" name="phone_number" required>

    <label>Company Phone Number</label>
    <input type="text" name="company_phone_number" required>

    <button type="submit">Add Employee</button>
</form>

{% if new_employee_id %}
<hr>
<h3>Generated QR Code:</h3>
<img class="qr" src="{{ employees[new_employee_id].qr_base64 }}">
<br><br>
<a class="btn" href="{{ employees[new_employee_id].qr_url }}" target="_blank">Download QR from Cloudinary</a>

<h3>Employee JSON</h3>
<pre>{{ json_output }}</pre>
{% endif %}
{% endblock %}
