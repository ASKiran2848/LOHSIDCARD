{% extends "base.html" %}
{% block title %}Add Employee{% endblock %}

{% block content %}
<h1>Add New Employee</h1>

{% if message %}
<div class="msg">{{ message }}</div>
{% endif %}

<form method="POST">

    <label>Employee ID</label>
    <input type="text" name="employee_id" required>

    <label>Name</label>
    <input type="text" name="name" required>

    <label>Date of Birth</label>
    <input type="text" name="dob" 
           placeholder="dd/mm/yyyy" 
           pattern="\d{2}/\d{2}/\d{4}" 
           required>

    <label>Gender</label>
    <select name="gender" required>
        <option>Male</option>
        <option>Female</option>
        <option>Other</option>
    </select>

    <h3>Emergency Details</h3>

    <label>Blood Group</label>
    <input type="text" name="blood_group" required>

    <label>Contact Person Name</label>
    <input type="text" name="contact_person_name" required>

    <label>Relation</label>
    <input type="text" name="relation" required>

    <label>Contact Person Phone</label>
    <input type="text" name="phone_number" required>

    <label>Company Phone Number</label>
    <input type="text" name="company_phone_number" required>

    <button type="submit">Add Employee</button>
</form>

{% if new_employee_id %}
<hr>
<div class="qr-container">
    <h3>Generated QR Code</h3>
    <img src="{{ employees[new_employee_id].qr_base64 }}" width="200">
    <br><br>
    <a href="{{ employees[new_employee_id].qr_url }}" target="_blank">Download QR from Cloudinary</a>
</div>

<h3>Employee JSON</h3>
<div class="json-box">
<pre>{{ json_output }}</pre>
</div>
{% endif %}
{% endblock %}
